/*
 * Copyright (C) 2009-2023 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/ui/base/Object"],function(U){"use strict";return function(){this.modifyMetadataXML=function(d,n){var t=d;t=this.addReferentialConstraint(t,n,"WorkPermitType",["WorkPermit"],"to_PermitNatureOfWork",["WorkPermit"]);t=this.addReferentialConstraint(t,n,"WorkPermitType",["WorkPermit"],"to_PermitProtEquip",["WorkPermit"]);t=this.addReferentialConstraint(t,n,"WorkPermitType",["WorkPermit"],"to_PermitSftyPrecaution",["WorkPermit"]);t=this.addReferentialConstraint(t,n,"WorkPermitType",["WorkPermit"],"to_TechnicalObject",["WorkPermit"]);t=this.addReferentialConstraint(t,n,"WorkPermitType",["WorkPermit"],"to_WorkPermitApproval",["WorkPermit"]);t=this.addReferentialConstraint(t,n,"WorkPermitType",["WorkPermit"],"to_WorkPermitLongTxt",["WorkPermit"]);t=this.addReferentialConstraint(t,n,"WorkPermitType",["WorkPermit"],"to_WorkPermitOrder",["WorkPermit"]);t=this.addReferentialConstraint(t,n,"WorkPermitType",["WorkPermit"],"to_WorkPermitOrderOperation",["WorkPermit"]);t=this.addReferentialConstraint(t,n,"WorkPermitType",["WorkPermit"],"to_WorkPermitPartner",["WorkPermit"]);t=this.addReferentialConstraint(t,n,"WorkPermitType",["WorkPermit"],"to_WorkPermitStatus",["WorkPermit"]);return t;};this.addReferentialConstraint=function(d,n,p,P,N,D){var a=this.getAssociationDetail(d,n,p,N);if(a.oAssoc){var r=this.getRefConstraint(d,a.sFromRoleName,P,a.sToRoleName,D);a.oAssoc.appendChild(r);}return d;};this.getRefConstraint=function(d,f,p,t,D){var P=d.createElement("Principal");P.setAttribute("Role",f);for(var i=0;i<p.length;i++){var o=d.createElement("PropertyRef");o.setAttribute("Name",p[i]);P.appendChild(o);}var a=d.createElement("Dependent");a.setAttribute("Role",t);for(i=0;i<D.length;i++){o=d.createElement("PropertyRef");o.setAttribute("Name",D[i]);a.appendChild(o);}var r=d.createElement("ReferentialConstraint");r.appendChild(P);r.appendChild(a);return r;};this.getAssociationDetail=function(d,n,p,N){var r={oAssoc:null,sFromRoleName:"",sToRoleName:""};var e=d.querySelector("EntityType[Name=\""+p+"\"]");if(!e){return r;}var o=e.querySelector("NavigationProperty[Name=\""+N+"\"]");if(!o){return r;}var a=o.getAttribute("Relationship");if(a){a=a.substring(a.indexOf(".")+1);}r.oAssoc=d.querySelector("Association[Name=\""+a+"\"]");r.sFromRoleName=o.getAttribute("FromRole");r.sToRoleName=o.getAttribute("ToRole");r.sFromRoleName=jQuery.sap.encodeXML(r.sFromRoleName);r.sToRoleName=jQuery.sap.encodeXML(r.sToRoleName);return r;};};});
